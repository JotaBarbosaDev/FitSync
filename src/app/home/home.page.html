<!-- Header -->
<ion-header class="header-modern fitsync-slide-down home-page">
  <ion-toolbar class="toolbar-gradient">
    <div class="header-content">
      <div class="header-title">
        <h1 class="title-large text-gradient-primary">FitSync</h1>
      </div>
      
    </div>
  </ion-toolbar>
</ion-header>

<ion-content class="fitsync-fade-in">
  <div class="content-container">
    <!-- Loading state -->
    <div *ngIf="isLoading" class="loading-container fitsync-slide-up">
      <div class="loading-content">
        <div class="icon-container icon-container-xl icon-container-gradient">
          <ion-spinner name="dots" class="icon icon-xl loading-only"></ion-spinner>
        </div>
        <p class="body-large text-muted">Carregando seus dados...</p>
      </div>
    </div>

    <div *ngIf="!isLoading" class="fitsync-container">
    
    <!-- Header with greeting -->
    <div class="header-section fitsync-slide-right">
      <div class="greeting-content">
        <h1 class="display-large">
          {{ getGreeting() }}, {{ userProfile.name }}! 
          <span style="-webkit-text-fill-color: initial; text-shadow: none;">üëã</span>
        </h1>
        <p class="body-large text-muted">Vamos continuar sua jornada fitness?</p>
        <div class="motivation-indicator">
          <span class="label-large text-accent">üî• ENERGIA M√ÅXIMA</span>
        </div>
      </div>
      
      <!-- User Stats Cards -->
      <div class="stats-grid fitsync-slide-left">
        <div class="fitsync-card fitsync-card--workout">
          <div class="card-header">
            <div class="icon-container icon-container-lg icon-container-light">
              <ion-icon name="flame" class="icon icon-lg icon-glow" style="color: #FF6B35;"></ion-icon>
            </div>
            <span class="headline-medium text-warning">{{ userProfile.streak || 0 }}</span>
          </div>
          <p class="label-large text-muted">Dias consecutivos</p>
        </div>
        
        <div class="fitsync-card fitsync-card--workout">
          <div class="card-header">
            <div class="icon-container icon-container-lg icon-container-gradient">
              <ion-icon name="trophy" class="icon icon-lg"></ion-icon>
            </div>
            <span class="emphasis-strong">{{ userProfile.level || 'Iniciante' }}</span>
          </div>
          <p class="personality-playful">N√≠vel atual</p>
        </div>
        
        <div class="fitsync-card fitsync-card--workout">
          <div class="card-header">
            <ion-icon name="fitness" color="success"></ion-icon>
            <span class="data-display-number">{{ recentWorkouts.length || 0 }}</span>
          </div>
          <p class="data-display-label">Treinos realizados</p>
        </div>
      </div>
    </div>

    <!-- Journey Section -->
    <div class="journey-section fitsync-slide-up">
      <!-- Start Journey Card -->
      <div class="journey-card" *ngIf="!activePlan">
        <div class="fitsync-card">
          <div class="empty-state">
            <div class="icon-container icon-container-2xl icon-container-gradient">
              <ion-icon name="rocket" class="icon icon-2xl"></ion-icon>
            </div>
            <h3 class="headline-medium text-gradient-primary">Comece Sua Jornada</h3>
            <p class="body-large text-muted">Escolha um plano personalizado para atingir seus objetivos</p>
            <button class="fitsync-btn fitsync-btn--primary fitsync-btn--lg" (click)="startQuickWorkout()">
              <div class="icon-container icon-container-sm icon-container-light">
                <ion-icon name="play" class="icon icon-sm"></ion-icon>
              </div>
              <span class="title-medium">Come√ßar Agora</span>
            </button>
          </div>
        </div>
      </div>

      <!-- Active Plan Card -->
      <div class="active-plan-card" *ngIf="activePlan">
        <div class="fitsync-card fitsync-card--workout">
          <div class="card-header">
            <div class="plan-title-section">
              <h3 class="title-large text-emphasis">{{ activePlan.name }}</h3>
              <div class="plan-badge">
                <span class="label-medium text-accent">ATIVO</span>
              </div>
            </div>
          </div>
          <div class="card-content">
            <p class="body-medium text-muted">{{ activePlan.description }}</p>
          </div>
          <div class="progress-section">
            <div class="progress-info">
              <span class="body-small text-muted">Progresso</span>
              <span class="title-small text-accent">{{ getPlanProgress() }}%</span>
            </div>
            <div class="progress-bar">
              <div class="progress-fill" [style.width.%]="getPlanProgress()"></div>
            </div>
          </div>
          <button class="fitsync-btn fitsync-btn--primary" (click)="startWorkout()">
            <div class="icon-container icon-container-sm icon-container-light">
              <ion-icon name="play" class="icon icon-sm"></ion-icon>
            </div>
            <span class="title-medium">Continuar Treino</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Quick Actions Section -->
    <div class="quick-actions-section fitsync-slide-up">
      <div class="section-header">
        <h2 class="headline-medium text-gradient-dark">
          <div class="icon-container icon-container-md icon-container-primary">
            <ion-icon name="flash" class="icon icon-md icon-glow"></ion-icon>
          </div>
          A√ß√µes R√°pidas
        </h2>
        <p class="body-medium text-muted">Acesso direto √†s principais funcionalidades</p>
      </div>
      
      <div class="actions-grid">
        <div class="action-card" (click)="navigateToExercisesList()">
          <div class="fitsync-card">
            <div class="action-icon-wrapper">
              <div class="icon-container icon-container-xl icon-container-primary">
                <ion-icon name="list" class="icon icon-xl icon-hover"></ion-icon>
              </div>
            </div>
            <div class="action-content">
              <h3 class="title-large text-emphasis">Exerc√≠cios</h3>
              <p class="body-medium text-muted">Explore nossa biblioteca completa</p>
              <span class="label-medium text-accent">EXPLORAR</span>
            </div>
          </div>
        </div>

        <div class="action-card" (click)="createCustomWorkout()">
          <div class="fitsync-card">
            <div class="action-icon-wrapper">
              <div class="icon-container icon-container-xl icon-container-gradient">
                <ion-icon name="add-circle" class="icon icon-xl"></ion-icon>
              </div>
            </div>
            <div class="action-content">
              <h3 class="title-large text-emphasis">Criar Treino</h3>
              <p class="body-medium text-muted">Personalize seu treino</p>
              <span class="label-medium text-accent">CRIAR</span>
            </div>
          </div>
        </div>

        <div class="action-card" (click)="verDetalhe()">
          <div class="fitsync-card">
            <div class="action-icon-wrapper">
              <div class="icon-container icon-container-xl icon-container-light">
                <ion-icon name="eye" class="icon icon-xl"></ion-icon>
              </div>
            </div>
            <div class="action-content">
              <h3 class="title-large text-emphasis">Ver Exemplo</h3>
              <p class="body-medium text-muted">Demo de exerc√≠cio</p>
              <span class="label-medium text-accent">VISUALIZAR</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Featured Exercises Section -->
    <div class="featured-section fitsync-slide-up" *ngIf="featuredExercises.length > 0">
      <div class="section-header">
        <h2 class="headline-medium text-gradient-dark">
          <div class="icon-container icon-container-md icon-container-gradient">
            <ion-icon name="star" class="icon icon-md icon-rotate"></ion-icon>
          </div>
          Exerc√≠cios em Destaque
        </h2>
        <p class="body-medium text-muted">Os mais populares desta semana</p>
      </div>
      
      <div class="exercises-carousel">
        <div class="exercise-card" *ngFor="let exercise of featuredExercises" (click)="navigateToExercise(exercise.id)">
          <div class="fitsync-card fitsync-card--exercise">
            <div class="exercise-image">
              <img *ngIf="exercise.imageUrl" [src]="exercise.imageUrl" [alt]="exercise.name" />
              <div *ngIf="!exercise.imageUrl" class="exercise-placeholder">
                <ion-icon name="fitness" size="large"></ion-icon>
              </div>
              <div class="difficulty-badge">
                <span class="badge" [class]="'badge--' + exercise.difficulty">{{ exercise.difficulty }}</span>
              </div>
            </div>
            <div class="exercise-content">
              <h3 class="fitsync-text-lg fitsync-text-bold">{{ exercise.name }}</h3>
              <p class="fitsync-text-base">{{ exercise.description }}</p>
              <div class="exercise-meta">
                <div class="meta-item">
                  <ion-icon name="time"></ion-icon>
                  <span>{{ exercise.duration || 'Vari√°vel' }}</span>
                </div>
                <div class="meta-item">
                  <ion-icon name="fitness"></ion-icon>
                  <span>{{ exercise.muscleGroups?.[0] || 'Geral' }}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Recent Workouts Section -->
    <div class="recent-workouts-section fitsync-slide-up" *ngIf="recentWorkouts.length > 0">
      <div class="section-header">
        <h2 class="fitsync-text-2xl fitsync-text-bold">
          <ion-icon name="time" slot="start"></ion-icon>
          Treinos Recentes
        </h2>
      </div>
      
      <div class="workouts-list">
        <div class="workout-item" *ngFor="let workout of recentWorkouts">
          <div class="fitsync-card">
            <div class="workout-header">
              <div class="workout-avatar">
                <ion-icon name="barbell"></ion-icon>
              </div>
              <div class="workout-info">
                <h3 class="fitsync-text-lg fitsync-text-bold">{{ workout.name }}</h3>
                <p class="fitsync-text-base">{{ workout.date | date:'short' }}</p>
                <p class="fitsync-text-sm">{{ workout.duration }}min ‚Ä¢ {{ workout.caloriesBurned }}cal</p>
              </div>
              <div class="workout-status">
                <span class="status-badge" [class]="workout.completed ? 'status-badge--success' : 'status-badge--warning'">
                  <ion-icon [name]="workout.completed ? 'checkmark-circle' : 'time'"></ion-icon>
                  {{ workout.completed ? 'Conclu√≠do' : 'Em andamento' }}
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Daily Tip Section -->
    <div class="tip-section fitsync-slide-up">
      <div class="section-header">
        <h2 class="fitsync-text-2xl fitsync-text-bold">
          <ion-icon name="bulb" slot="start"></ion-icon>
          Dica do Dia
        </h2>
      </div>
      
      <div class="fitsync-card">
        <div class="tip-content">
          <div class="tip-icon-wrapper">
            <ion-icon name="bulb" class="tip-icon"></ion-icon>
          </div>
          <div class="tip-text">
            <h4 class="fitsync-text-lg fitsync-text-bold">üí° Dica Importante</h4>
            <p class="fitsync-text-base">{{ getDailyTip() }}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Features Section -->
    <div class="features-section fitsync-slide-up">
      <div class="section-header">
        <h2 class="fitsync-text-2xl fitsync-text-bold">
          <ion-icon name="apps" slot="start"></ion-icon>
          Recursos do FitSync
        </h2>
      </div>
      
      <div class="features-list">
        <div class="feature-item" (click)="navigateToProgress()">
          <div class="fitsync-card">
            <div class="feature-content">
              <div class="feature-icon-wrapper">
                <ion-icon name="analytics" class="feature-icon"></ion-icon>
              </div>
              <div class="feature-info">
                <h4 class="fitsync-text-lg fitsync-text-bold">An√°lise de Progresso</h4>
                <p class="fitsync-text-base">Visualize sua evolu√ß√£o com gr√°ficos detalhados</p>
              </div>
              <ion-icon name="chevron-forward" class="feature-arrow"></ion-icon>
            </div>
          </div>
        </div>

        <div class="feature-item">
          <div class="fitsync-card">
            <div class="feature-content">
              <div class="feature-icon-wrapper">
                <ion-icon name="timer" class="feature-icon"></ion-icon>
              </div>
              <div class="feature-info">
                <h4 class="fitsync-text-lg fitsync-text-bold">Timer Inteligente</h4>
                <p class="fitsync-text-base">Controle seus tempos de treino e descanso</p>
              </div>
              <ion-icon name="chevron-forward" class="feature-arrow"></ion-icon>
            </div>
          </div>
        </div>

        <div class="feature-item">
          <div class="fitsync-card">
            <div class="feature-content">
              <div class="feature-icon-wrapper">
                <ion-icon name="cloud-upload" class="feature-icon"></ion-icon>
              </div>
              <div class="feature-info">
                <h4 class="fitsync-text-lg fitsync-text-bold">Sincroniza√ß√£o</h4>
                <p class="fitsync-text-base">Seus dados seguros na nuvem</p>
              </div>
              <ion-icon name="chevron-forward" class="feature-arrow"></ion-icon>
            </div>
          </div>
        </div>

        <div class="feature-item">
          <div class="fitsync-card">
            <div class="feature-content">
              <div class="feature-icon-wrapper">
                <ion-icon name="people" class="feature-icon"></ion-icon>
              </div>
              <div class="feature-info">
                <h4 class="fitsync-text-lg fitsync-text-bold">Comunidade</h4>
                <p class="fitsync-text-base">Conecte-se com outros atletas</p>
              </div>
              <ion-icon name="chevron-forward" class="feature-arrow"></ion-icon>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Institution Info Section -->
    <div class="institution-section fitsync-slide-up">
      <div class="section-header">
        <h2 class="fitsync-text-2xl fitsync-text-bold">
          <ion-icon name="school" slot="start"></ion-icon>
          Sobre o Projeto
        </h2>
      </div>
      
      <div class="fitsync-card">
        <div class="institution-content">
          <div class="institution-icon-wrapper">
            <ion-icon name="business" class="institution-icon"></ion-icon>
          </div>
          <div class="institution-info">
            <h3 class="fitsync-text-xl fitsync-text-bold">{{ nomeInstituto }}</h3>
            <p class="fitsync-text-base">Desenvolvido como projeto acad√™mico demonstrando:</p>
            <div class="features-checklist">
              <div class="checklist-item">
                <ion-icon name="checkmark-circle" color="success"></ion-icon>
                <span>Angular Router avan√ßado</span>
              </div>
              <div class="checklist-item">
                <ion-icon name="checkmark-circle" color="success"></ion-icon>
                <span>Ionic Storage</span>
              </div>
              <div class="checklist-item">
                <ion-icon name="checkmark-circle" color="success"></ion-icon>
                <span>Integra√ß√£o JSON</span>
              </div>
              <div class="checklist-item">
                <ion-icon name="checkmark-circle" color="success"></ion-icon>
                <span>Capacitor plugins</span>
              </div>
              <div class="checklist-item">
                <ion-icon name="checkmark-circle" color="success"></ion-icon>
                <span>Componentes Ionic</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>

  </div> <!-- Fecha content-container -->

  <!-- Floating Action Button -->
  <ion-fab vertical="bottom" horizontal="end" slot="fixed" class="fab-modern">
    <ion-fab-button color="primary" class="fab-main">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
    <ion-fab-list side="top">
      <ion-fab-button color="success" (click)="navigateToWorkouts()" class="fab-item">
        <ion-icon name="barbell"></ion-icon>
      </ion-fab-button>
      <ion-fab-button color="warning" (click)="navigateToProgress()" class="fab-item">
        <ion-icon name="analytics"></ion-icon>
      </ion-fab-button>
      <ion-fab-button color="secondary" (click)="createCustomWorkout()" class="fab-item">
        <ion-icon name="create"></ion-icon>
      </ion-fab-button>
    </ion-fab-list>
  </ion-fab>
</ion-content>
