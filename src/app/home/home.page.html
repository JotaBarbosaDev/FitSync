<!-- Header -->
<ion-header class="header-modern">
  <ion-toolbar color="primary">
    <ion-title class="header-title">
      <div class="title-content">
        <h1>FitSync</h1>
        <p class="greeting">{{ getGreeting() }}, {{ userProfile.name }}!</p>
      </div>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="home-content">
  <!-- Loading state -->
  <div *ngIf="isLoading" class="loading-container">
    <ion-spinner name="dots"></ion-spinner>
    <p>Carregando treino do dia...</p>
  </div>

  <!-- Main content -->
  <div *ngIf="!isLoading" class="main-content">
    <!-- Data do dia -->
    <div class="date-header">
      <h2>{{ getCurrentDate() }}</h2>
    </div>

    <!-- Treino do Dia - Card Simples -->
    <div class="workout-section">
      <!-- Dia de Descanso -->
      <div *ngIf="todayWorkout?.isRestDay" class="rest-day">
        <div class="rest-card">
          <div class="rest-icon">
            <ion-icon name="bed-outline"></ion-icon>
          </div>
          <h3>Dia de Descanso</h3>
          <p>Aproveite para relaxar e se recuperar!</p>
        </div>
      </div>

      <!-- Treino Disponível -->
      <div *ngIf="currentWorkout" class="today-workout">
        <div class="workout-card">
          <div class="workout-header">
            <h3>{{ currentWorkout.name }}</h3>
            <span class="today-badge">{{ getCurrentDate() }}</span>

            <div class="workout-stats">
              <div class="stat-item">
                <ion-icon name="fitness-outline"></ion-icon>
                <span>{{ workoutExercisesCount }} exercícios</span>
              </div>
              <div class="stat-item">
                <ion-icon name="time-outline"></ion-icon>
                <span>{{ workoutDurationDisplay }} min</span>
              </div>
            </div>
          </div>

          <div class="workout-content">
            <ion-button expand="block" size="large" (click)="startTodayWorkout()" class="start-workout-btn">
              <ion-icon name="play" slot="start"></ion-icon>
              COMEÇAR TREINO DE {{ getTodayDayName().toUpperCase() }}
            </ion-button>
          </div>
        </div>
      </div>

      <!-- Nenhum Treino Planejado -->
      <div *ngIf="!currentWorkout && !todayWorkout?.isRestDay" class="no-workout">
        <div class="no-workout-card">
          <div class="no-workout-icon">
            <ion-icon name="calendar-outline"></ion-icon>
          </div>
          <h3>Nenhum Treino Planejado</h3>
          <p>Vá para seus treinos para configurar o plano semanal</p>
          <ion-button expand="block" (click)="navigateToWorkoutManagement()">
            <ion-icon name="barbell-outline" slot="start"></ion-icon>
            Ver Meus Treinos
          </ion-button>
        </div>
      </div>
    </div>
  </div>
</ion-content>